/**
 * 한국어 이모지 검색 유틸리티
 */

/** 한국어 키워드 → 이모지 직접 매핑 (빠른 선택용) */
export const EMOJI_KO_SEARCH: Record<string, string[]> = {
  // 감정
  '웃음': ['😀', '😃', '😄', '😁', '😆', '🤣', '😂'],
  '슬픔': ['😢', '😭', '😿', '😞', '😔'],
  '화남': ['😠', '😡', '🤬', '💢'],
  '사랑': ['❤️', '💕', '💖', '💗', '😍', '🥰'],
  '좋아요': ['👍', '👌', '💯'],
  '싫어요': ['👎', '👊'],

  // 기호 (행사 관련 중요!)
  '참석': ['✅', '☑️', '✔️', '👍', '🙋'],
  '불참': ['❌', '✖️', '👎', '🙅'],
  '늦참': ['⏰', '🕐', '⌚', '⏱️'],
  '온라인': ['💻', '🖥️', '📱', '🌐'],
  '오프라인': ['🏢', '🏠', '📍'],
  '체크': ['✅', '☑️', '✔️'],
  '확인': ['✅', '👌', '🆗'],
  '엑스': ['❌', '✖️', '🚫'],
  '취소': ['❌', '✖️', '🚫', '⛔'],

  // 하트 (다양한 색상)
  '하트': ['❤️', '🧡', '💛', '💚', '💙', '💜', '🖤', '🤍', '🤎', '💕', '💖', '💗', '💓', '💝'],
  '빨간하트': ['❤️', '💗', '💓', '❣️'],
  '빨강하트': ['❤️', '💗', '💓', '❣️'],
  '주황하트': ['🧡'],
  '노란하트': ['💛'],
  '노랑하트': ['💛'],
  '초록하트': ['💚'],
  '파란하트': ['💙'],
  '파랑하트': ['💙'],
  '보라하트': ['💜'],
  '검은하트': ['🖤'],
  '검정하트': ['🖤'],
  '흰하트': ['🤍'],
  '하얀하트': ['🤍'],
  '갈색하트': ['🤎'],

  // 축하/파티
  '파티': ['🎉', '🎊', '🥳', '🪅'],
  '축하': ['🎉', '🎊', '👏', '🥳', '🎁'],
  '박수': ['👏', '🙌', '👐'],
  '축제': ['🎉', '🎊', '🎆', '🎇'],

  // 기타 기호
  '불': ['🔥', '❤️‍🔥', '🔥'],
  '별': ['⭐', '🌟', '✨', '💫'],
  '반짝': ['✨', '💫', '🌟'],
  '물음표': ['❓', '❔', '🤔'],
  '느낌표': ['❗', '❕', '‼️', '⚠️'],

  // 음식
  '커피': ['☕', '🫖', '🧋'],
  '맥주': ['🍺', '🍻', '🥂'],
  '술': ['🍺', '🍻', '🍷', '🥃', '🍶'],
  '피자': ['🍕'],
  '햄버거': ['🍔'],
  '밥': ['🍚', '🍙', '🍱', '🍛'],
  '라면': ['🍜', '🍝'],
  '치킨': ['🍗', '🍖'],
  '케이크': ['🎂', '🍰', '🧁'],
  '아이스크림': ['🍦', '🍨', '🍧'],

  // 날씨/자연
  '해': ['☀️', '🌞', '🌅', '🌄'],
  '달': ['🌙', '🌕', '🌛', '🌜'],
  '비': ['🌧️', '☔', '🌦️'],
  '눈': ['❄️', '⛄', '🌨️'],
  '꽃': ['🌸', '🌺', '🌷', '🌹', '💐'],
  '나무': ['🌲', '🌳', '🌴', '🎄'],
  '구름': ['☁️', '⛅', '🌤️'],

  // 숫자 이모지
  '숫자': ['1️⃣', '2️⃣', '3️⃣', '4️⃣', '5️⃣', '6️⃣', '7️⃣', '8️⃣', '9️⃣', '🔟'],
  '일': ['1️⃣'],
  '이': ['2️⃣'],
  '삼': ['3️⃣'],
  '사': ['4️⃣'],
  '오': ['5️⃣'],
  '육': ['6️⃣'],
  '칠': ['7️⃣'],
  '팔': ['8️⃣'],
  '구': ['9️⃣'],
  '십': ['🔟'],
  '1': ['1️⃣'],
  '2': ['2️⃣'],
  '3': ['3️⃣'],
  '4': ['4️⃣'],
  '5': ['5️⃣'],
  '6': ['6️⃣'],
  '7': ['7️⃣'],
  '8': ['8️⃣'],
  '9': ['9️⃣'],
  '10': ['🔟'],

  // 시간
  '시계': ['🕐', '🕑', '🕒', '🕓', '⏰', '⌚'],
  '달력': ['📅', '📆', '🗓️'],
  '알람': ['⏰', '🔔', '🛎️'],

  // 사람
  '사람': ['🧑', '👤', '👥'],
  '남자': ['👨', '🧔', '👦'],
  '여자': ['👩', '👧', '👱‍♀️'],
  '손': ['👋', '✋', '🤚', '👐', '🙌', '👏'],
  '눈동자': ['👀', '👁️'],
  '입': ['👄', '💋', '😗'],

  // 학교/공부
  '책': ['📚', '📖', '📕', '📗', '📘'],
  '공부': ['📚', '✍️', '📝', '🎓'],
  '학교': ['🏫', '🎓', '📚'],
  '노트': ['📝', '📒', '📓'],
  '연필': ['✏️', '📝', '✍️'],

  // 이동/장소
  '집': ['🏠', '🏡', '🏘️'],
  '건물': ['🏢', '🏬', '🏛️'],
  '차': ['🚗', '🚙', '🚕'],
  '버스': ['🚌', '🚍'],
  '지하철': ['🚇', '🚈', '🚉'],
  '비행기': ['✈️', '🛫', '🛬'],

  // 스포츠/운동
  '운동': ['🏃', '🏋️', '💪', '🤸'],
  '축구': ['⚽'],
  '야구': ['⚾'],
  '농구': ['🏀'],
  '테니스': ['🎾'],
  '골프': ['⛳'],

  // 기술/도구
  '컴퓨터': ['💻', '🖥️', '🖱️'],
  '핸드폰': ['📱', '📲'],
  '전화': ['📞', '☎️', '📱'],
  '카메라': ['📷', '📸', '📹'],
  '이메일': ['📧', '✉️', '📨'],
  '메일': ['📧', '✉️', '📨'],

  // 화살표
  '화살표': ['➡️', '⬅️', '⬆️', '⬇️', '↗️', '↘️', '↙️', '↖️'],
  '오른쪽': ['➡️', '▶️', '⏩'],
  '왼쪽': ['⬅️', '◀️', '⏪'],
  '위': ['⬆️', '🔼', '⏫'],
  '아래': ['⬇️', '🔽', '⏬'],
};

/**
 * 한국어로 이모지 검색
 * @param query 한국어 검색어
 * @returns 매칭되는 이모지 배열
 */
export function searchEmojis(query: string): string[] {
  const trimmedQuery = query.trim().toLowerCase();
  if (!trimmedQuery) return [];

  const results: string[] = [];

  for (const [keyword, emojis] of Object.entries(EMOJI_KO_SEARCH)) {
    if (keyword.includes(trimmedQuery) || trimmedQuery.includes(keyword)) {
      results.push(...emojis);
    }
  }

  // 중복 제거
  return [...new Set(results)];
}

/**
 * 한글 여부 확인
 * @param text 확인할 텍스트
 * @returns 한글 포함 여부
 */
export function containsKorean(text: string): boolean {
  return /[가-힣]/.test(text);
}
